openapi: 3.0.0
info:
  title: Simple Twitter API
  contact: {}
  version: 1.0.0-oas3
servers:
  - url: https://simple-twitter-paul.herokuapp.com/api
    variables: {}
  - url: http://localhost:3000/api
    variables: {}
paths:
  /admin/users:
    get:
      tags:
        - Admin
      summary: Get all users
      operationId: Getallusers
      parameters: []
      description: 回傳資料為一個Array
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                - id:
                  avatar:
                  name:
                  account:
                  cover:
                  tweetsCounts:
                  likedTweetsCounts:
                  followingsCounts:
                  followersCounts:
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /admin/tweets:
    get:
      tags:
        - Admin
      summary: Get all tweets
      operationId: Getalltweets
      parameters: []
      description: 回傳資料為一個Array
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                - id:
                  idOfUser:
                  avatarOdUser:
                  account:
                  description:
                  createdAt:
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /admin/tweets/{id}:
    parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
        description: Numeric ID of the tweet to delete. eg:14
    delete:
      tags:
        - Admin
      summary: Delete tweet
      operationId: Deletetweet
      parameters: []
      description: 回傳資料為已刪除的貼文細節
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                id:
                UserId:
                description:
                createdAt:
                updatedAt:
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /users/{id}:
    parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
        description: Numeric ID of the user to get. eg:14
    get:
      tags:
        - User
      summary: Get user page
      operationId: Getuserpage
      parameters: []
      description: 回傳單一使用者資料
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                id:
                account:
                name:
                email:
                introduction:
                avatar:
                cover:
                isAdmin:
                role:
                createdAt:
                updatedAt:
                Tweets:
                Followings:
                Followers:
                tweetsCounts:
                followingsCounts:
                isBeingFollowed:
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /users/{editUserId}:
    parameters:
      - in: path
        name: editUserId
        schema:
          type: integer
        required: true
        description: Numeric ID of the user to edit. eg:14
    put:
      tags:
        - User
      summary: Edit user
      operationId: Edituser
      parameters: []
      description: 此API用來編輯使用者avatar、cover、name、introduction資料，avatar與cover使用檔案上傳
      requestBody:
        description: ''
        content:
          text/plain:
            schema:
              type: object
              example:
                account: user100
                email: usere100@example
                name: user100
                password: '12345678'
                checkPassword: '12345678'
            example:
              name: user100 限制50字元
              introduction: 我是user100 限制150字元
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                status: success
                message: 成功編輯個人資料
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /users/{id}/likes:
    parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
        description: Numeric ID of the user to get likes. eg:14
    get:
      tags:
        - User
      summary: Get user likes
      operationId: Getuserlikes
      parameters: []
      description: 取得使用者按讚的貼文清單，回傳格式為Array
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                - likeCreatedAt:
                  TweetId:
                  description:
                  createdAt:
                  userOflikedTweet:
                  userNameOflikedTweet:
                  userAccountOflikedTweet:
                  userAvatarOflikedTweet:
                  repliedCounts:
                  likesCounts:
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /users/{id}/tweets:
    parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
        description: Numeric ID of the user to get tweets. eg:14
    get:
      tags:
        - User
      summary: Get user tweets
      operationId: Getusertweets
      parameters: []
      description: 取得使用者的貼文清單，回傳格式為Array
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                - id:
                  UserId:
                  description:
                  createdAt:
                  updatedAt:
                  Replies:
                  Likes:
                  userOfTweet:
                  userNameOfTweet:
                  userAccountOfTweet:
                  userAvatarOfTweet:
                  repliedCounts:
                  likesCounts:
                  isBeingliked:
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /users/{id}/replied_tweets:
    parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
        description: Numeric ID of the user to get replied tweet. eg:14
    get:
      tags:
        - User
      summary: Get user replies
      operationId: Getuserreplies
      parameters: []
      description: 取得使用者回覆的貼文清單，回傳格式為Array
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                - replyId:
                  comment:
                  repliedTweet:
                  repliedTweetDescription:
                  userOfRepliedTweet:
                  userAccountOfRepliedTweet:
                  userNameOfRepliedTweet:
                  userAvatarOfRepliedTweet:
                  repliedTweetCreatedAt:
                  isBeingliked:
                  userOfReply:
                  userAccountOfReply:
                  userNameOfReply:
                  userAvatarOfReply:
                  timeOfReply:
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /users/{id}/followings:
    parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
        description: Numeric ID of the user to get followings. eg:14
    get:
      tags:
        - User
      summary: Get user followings
      operationId: Getuserfollowings
      parameters: []
      description: 取得使用者追蹤的清單，回傳格式為Array
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                - userOfFollowing:
                  userNameOfFollowing:
                  userAccountOfFollowing:
                  userAvatarOfFollowing:
                  createdAt:
                  isFollowing:
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /users/{id}/followers:
    parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
        description: Numeric ID of the user to get followers. eg:14
    get:
      tags:
        - User
      summary: Get user followers
      operationId: Getuserfollowers
      parameters: []
      description: 取得使用者粉絲的清單，回傳格式為Array
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                - followerId:
                  userNameOfFollower:
                  userAccountOfFollower:
                  userAvatarOfFollwer:
                  createdAt:
                  isFollowing:
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /users/top10:
    get:
      tags:
        - User
      summary: Get top 10 users
      operationId: Gettop10users
      parameters: []
      description: 最高追蹤者清單，回傳格式為Array
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                - id:
                  name:
                  account:
                  avatar:
                  followersCounts:
                  isFollowing:
                - id:
                  name:
                  account:
                  avatar:
                  followersCounts:
                  isFollowing:
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /users/current_user:
    get:
      tags:
        - User
      summary: Get current user
      operationId: Getcurrentuser
      parameters: []
      description: 取得當前使用者資料
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                id:
                account:
                name:
                email:
                avatar:
                isAdmin:
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /tweets:
    get:
      tags:
        - Tweet
      summary: Get all tweets
      operationId: Getalltweets1
      parameters: []
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                - id:
                  UserId:
                  description:
                  createdAt:
                  updatedAt:
                  User:
                    id:
                    account:
                    name:
                    email:
                    password:
                    introduction:
                    avatar:
                    cover:
                    isAdmin:
                    role:
                    createdAt:
                    updatedAt:
                  LikedUsers: []
                  Replies:
                    - id:
                      UserId:
                      TweetId:
                      comment:
                      createdAt:
                      updatedAt:
                  repliedCount:
                  likeCount:
                  liked:
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
    post:
      tags:
        - Tweet
      summary: Create a tweet
      operationId: Createatweet
      parameters: []
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateatweetRequest'
        required: true
      responses:
        '200':
          description: ''
          headers: {}
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /tweets/{id}:
    parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
        description: Numeric ID of the tweet to get. eg:14
    get:
      tags:
        - Tweet
      summary: Get a tweet
      operationId: Getatweet
      parameters: []
      responses:
        '200':
          description: ''
          headers: {}
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /tweets/{id}/likes:
    parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
        description: Numeric ID of tweet to add like. eg:14
    post:
      tags:
        - Tweet
      summary: User likes a tweet
      operationId: Userlikesatweet
      parameters: []
      responses:
        '200':
          description: ''
          headers: {}
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /tweets/{id}/unlike:
    parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
        description: Numeric ID of tweet to unlike. eg:14
    post:
      tags:
        - Tweet
      summary: User unlikes a tweet
      operationId: Userunlikesatweet
      parameters: []
      responses:
        '200':
          description: ''
          headers: {}
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /tweets/{id}/replies:
    parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
        description: Numeric ID of tweet to add reply. eg:14
    post:
      tags:
        - Tweet
      summary: User replies to  a tweet
      operationId: Userrepliestoatweet
      parameters: []
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserrepliestoatweetRequest'
        required: true
      responses:
        '200':
          description: ''
          headers: {}
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /tweets/{tweetId}/replies:
    parameters:
      - in: path
        name: tweetId
        schema:
          type: integer
        required: true
        description: Numeric ID of tweet to get replies. eg:14
    get:
      tags:
        - Tweet
      summary: Get edit reply page
      operationId: Geteditreplypage
      parameters: []
      responses:
        '200':
          description: ''
          headers: {}
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /replies/{id}:
    parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
        description: Numeric ID of reply to edit. eg:14
    put:
      tags:
        - Reply
      summary: Edit a reply
      operationId: Editareply
      parameters: []
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserEditReply'
      responses:
        '200':
          description: ''
          headers: {}
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
    delete:
      tags:
        - Reply
      summary: Delete a reply
      operationId: Deleteareply
      parameters: []
      responses:
        '200':
          description: ''
          headers: {}
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /followships:
    post:
      tags:
        - Followship
      summary: User add a following
      operationId: Useraddafollowing
      parameters: []
      responses:
        '200':
          description: ''
          headers: {}
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /followships/{followingId}:
    parameters:
      - in: path
        name: followingId
        schema:
          type: integer
        required: true
        description: Numeric ID of following to cancel the followship. eg:14
    delete:
      tags:
        - Followship
      summary: User unfollow someone
      operationId: Userunfollowsomeone
      parameters: []
      responses:
        '200':
          description: ''
          headers: {}
      deprecated: false
      security:
        - bearer: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /admin/signin:
    post:
      tags:
        - Auth
      summary: Admin login
      description: 接受body資料資料如example，回傳使用者資料以及token
      operationId: Adminlogin
      parameters: []
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AdminloginRequest'
            example:
              account: root
              password: '12345678'
        required: true
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                status: success
                message: 成功登入
                token:
                data:
                  id:
                  account:
                  name:
                  email:
                  introduction:
                  avatar:
                  cover:
                  isAdmin: true
                  role: admin
                  createdAt:
                  updatedAt:
      deprecated: false
      security: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /signup:
    post:
      tags:
        - Auth
      summary: User sign up
      operationId: Usersignup
      parameters: []
      description: 接受body資料資料如example，回傳成功訊息，無資料
      requestBody:
        description: ''
        content:
          text/plain:
            schema:
              type: object
              example:
                account: user100
                email: usere100@example
                name: user100
                password: '12345678'
                checkPassword: '12345678'
            example:
              account: user100 限制10字元
              email: usere100@example
              name: user100 限制50字元
              password: '12345678'
              checkPassword: '12345678'
        required: true
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                status: success
                message: 成功創建
      deprecated: false
      security: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
  /signin:
    post:
      tags:
        - Auth
      summary: User login
      operationId: Userlogin
      parameters: []
      description: 接受body資料資料如example，回傳使用者資料以及token
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserloginRequest'
            example:
              account: user1
              password: '12345678'
        required: true
      responses:
        '200':
          description: ''
          content:
            application/json:
              example:
                status: success
                message: 成功登入
                token:
                data:
                  id:
                  account:
                  name:
                  email:
                  introduction:
                  avatar:
                  cover:
                  isAdmin: false
                  role: user
                  createdAt:
                  updatedAt:
      deprecated: false
      security: []
      servers:
        - url: https://simple-twitter-paul.herokuapp.com/api
          variables: {}
components:
  schemas:
    AdminloginRequest:
      title: AdminloginRequest
      required:
        - account
        - password
      type: object
      properties:
        account:
          type: string
        password:
          type: string
      example:
        account: root
        password: '12345678'
    CreateatweetRequest:
      title: CreateatweetRequest
      required:
        - description
      type: object
      properties:
        description:
          type: string
      example:
        description: Hello Word
    UserrepliestoatweetRequest:
      title: UserrepliestoatweetRequest
      required:
        - comment
      type: object
      properties:
        comment:
          type: string
      example:
        comment: Hello word
    UserEditReply:
      title: UserEditReply
      required:
        - comment
      type: object
      properties:
        comment:
          type: string
      example:
        comment: Hello word edit
    UserloginRequest:
      title: UserloginRequest
      required:
        - account
        - password
      type: object
      properties:
        account:
          type: string
        password:
          type: string
      example:
        account: user1
        password: '12345678'
  securitySchemes:
    bearer:
      type: http
      scheme: bearer
security: []
tags:
  - name: Admin
  - name: User
  - name: Tweet
  - name: Reply
  - name: Followship
  - name: Auth
    description: ''
